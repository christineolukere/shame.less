@tailwind base;
@tailwind components;
@tailwind utilities;

/* Mobile-first responsive design */
@layer base {
  html {
    /* Prevent zoom on input focus on iOS */
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }
  
  body {
    /* Prevent horizontal scroll */
    overflow-x: hidden;
    /* Ensure full height on mobile */
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }
  
  /* Fix viewport height issues on mobile browsers */
  #root {
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }
}

@layer utilities {
  /* Safe area utilities for notched devices */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-left {
    padding-left: env(safe-area-inset-left);
  }
  
  .safe-right {
    padding-right: env(safe-area-inset-right);
  }
  
  /* Mobile-specific utilities */
  .mobile-container {
    width: 100%;
    max-width: 100vw;
    margin: 0 auto;
    padding-left: max(16px, env(safe-area-inset-left));
    padding-right: max(16px, env(safe-area-inset-right));
  }
  
  /* Prevent text from being too small on mobile */
  .mobile-text {
    font-size: 16px;
    line-height: 1.5;
  }
  
  /* Touch-friendly button sizes */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Responsive breakpoints for different devices */
@media screen and (max-width: 320px) {
  /* iPhone SE and smaller devices */
  .text-2xl {
    font-size: 1.25rem;
  }
  
  .text-xl {
    font-size: 1.125rem;
  }
  
  .p-6 {
    padding: 1rem;
  }
  
  .space-y-6 > :not([hidden]) ~ :not([hidden]) {
    margin-top: 1rem;
  }
}

@media screen and (max-width: 375px) {
  /* iPhone 6/7/8/SE 2nd gen */
  .grid-cols-4 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 0.5rem;
  }
  
  .grid-cols-3 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media screen and (max-width: 414px) {
  /* iPhone 6/7/8 Plus, iPhone 11 Pro Max */
  .max-w-md {
    max-width: 100%;
  }
}

/* Landscape orientation fixes */
@media screen and (orientation: landscape) and (max-height: 500px) {
  .min-h-screen {
    min-height: 100vh;
  }
  
  /* Reduce padding in landscape on small screens */
  .p-6 {
    padding: 0.75rem;
  }
  
  .space-y-6 > :not([hidden]) ~ :not([hidden]) {
    margin-top: 0.75rem;
  }
}

/* High DPI displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  /* Ensure crisp rendering on retina displays */
  * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}