@tailwind base;
@tailwind components;
@tailwind utilities;

/* Mobile-first responsive modal styles */
@layer components {
  .modal-container {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4;
  }
  
  .modal-content {
    @apply bg-white rounded-2xl w-full shadow-xl;
    max-width: 90vw;
    max-height: 90vh;
    overflow-y: auto;
  }
  
  .modal-header {
    @apply flex items-center justify-between p-4 border-b border-sage-100 sticky top-0 bg-white rounded-t-2xl z-10;
  }
  
  .modal-body {
    @apply p-4 space-y-4;
  }
  
  .modal-title {
    font-size: clamp(1rem, 3vw, 1.25rem);
    @apply font-serif text-sage-800;
  }
  
  .modal-text {
    font-size: clamp(0.875rem, 2vw, 1rem);
    @apply leading-relaxed;
  }
  
  .modal-button {
    @apply px-4 py-3 rounded-lg font-medium transition-colors;
    font-size: clamp(0.875rem, 2vw, 1rem);
    min-height: 44px; /* Touch target size */
  }
}

/* Theme-specific styles */
@layer base {
  /* Spiritual Theme */
  .theme-spiritual {
    --theme-primary: theme('colors.purple.500');
    --theme-secondary: theme('colors.lavender.400');
    --theme-accent: theme('colors.violet.600');
    --theme-background: theme('colors.purple.50');
    --theme-surface: theme('colors.lavender.100');
    --theme-text: theme('colors.purple.900');
  }

  /* Secular Theme */
  .theme-secular {
    --theme-primary: theme('colors.sage.500');
    --theme-secondary: theme('colors.green.400');
    --theme-accent: theme('colors.emerald.600');
    --theme-background: theme('colors.sage.50');
    --theme-surface: theme('colors.green.100');
    --theme-text: theme('colors.sage.900');
  }

  /* Ancestral Theme */
  .theme-ancestral {
    --theme-primary: theme('colors.amber.500');
    --theme-secondary: theme('colors.orange.400');
    --theme-accent: theme('colors.red.600');
    --theme-background: theme('colors.amber.50');
    --theme-surface: theme('colors.orange.100');
    --theme-text: theme('colors.amber.900');
  }

  /* Gentle Theme */
  .theme-gentle {
    --theme-primary: theme('colors.rose.400');
    --theme-secondary: theme('colors.cream.300');
    --theme-accent: theme('colors.sage.500');
    --theme-background: theme('colors.rose.50');
    --theme-surface: theme('colors.cream.100');
    --theme-text: theme('colors.rose.900');
  }
}

/* Responsive breakpoints */
@media (max-width: 400px) {
  .modal-content {
    max-width: 95vw;
    margin: 0.5rem;
  }
  
  .modal-body {
    @apply p-3 space-y-3;
  }
  
  .modal-header {
    @apply p-3;
  }
  
  .modal-button {
    @apply px-3 py-2.5;
    min-height: 40px;
  }
}

@media (min-width: 768px) {
  .modal-content {
    max-width: 28rem; /* 448px */
  }
  
  .modal-body {
    @apply p-6 space-y-6;
  }
  
  .modal-header {
    @apply p-6;
  }
}

/* Ensure text wrapping and prevent overflow */
.modal-content * {
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* Touch-friendly button sizing */
.touch-target {
  min-height: 44px;
  min-width: 44px;
}

/* Responsive grid adjustments */
@media (max-width: 400px) {
  .grid-cols-4 {
    @apply grid-cols-2;
  }
  
  .grid-cols-3 {
    @apply grid-cols-2;
  }
  
  .grid-cols-2 {
    @apply grid-cols-1;
  }
}

@media (max-width: 360px) {
  .grid-cols-4 {
    @apply grid-cols-1;
  }
}